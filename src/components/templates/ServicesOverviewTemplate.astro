---
import BaseLayout from '@/layouts/BaseLayout.astro';
import type { Locale } from '@/utils/i18n';

export interface ServiceCard {
  title: string;
  description: string;
  link: string;
  linkText: string;
}

export interface ServicesOverviewProps {
  title: string;
  description: string;
  locale: Locale;
  keywords: string[];
  pageTitle: string;
  subtitle: string;
  services: ServiceCard[];
  ctaText?: string;
  ctaLink?: string;
  ctaLinkText?: string;
}

const {
  title,
  description,
  locale,
  keywords,
  pageTitle,
  subtitle,
  services,
  ctaText,
  ctaLink,
  ctaLinkText
} = Astro.props as ServicesOverviewProps;
---

<BaseLayout
  title={title}
  description={description}
  locale={locale}
  keywords={keywords}
>
  <div class="page-container">
    <div class="page-wrapper">
      <!-- Page header -->
      <div class="mb-16">
        <h1 class="page-title">{pageTitle}</h1>
        <p class="content-text">{subtitle}</p>
      </div>

      <!-- Services list -->
      <div class="services-list">
        {services.map((service) => (
          <a href={service.link} class="service-card">
            <h2 class="section-title">{service.title}</h2>
            <p class="content-text mb-4">{service.description}</p>
            <span class="service-link-text">
              {service.linkText}
            </span>
          </a>
        ))}
      </div>

      <!-- CTA section -->
      {ctaText && (
        <div class="section-divider">
          <p class="content-text mb-4">{ctaText}</p>
          {ctaLink && ctaLinkText && (
            <a href={ctaLink} class="content-link">
              {ctaLinkText}
            </a>
          )}
        </div>
      )}
    </div>
  </div>
</BaseLayout>

<style>
  .services-list {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .service-card {
    display: block;
    text-decoration: none;
    padding: 2rem 1.5rem;
    margin-left: -1.5rem;
    margin-right: -1.5rem;
    border-radius: 8px;
    transition: all 0.3s ease;
    position: relative;
  }

  .service-card::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 1.5rem;
    right: 1.5rem;
    height: 1px;
    background: linear-gradient(to right,
      transparent,
      rgba(191, 174, 220, 0.2) 20%,
      rgba(191, 174, 220, 0.2) 80%,
      transparent
    );
  }

  :global(.dark) .service-card::after {
    background: linear-gradient(to right,
      transparent,
      rgba(125, 107, 162, 0.25) 20%,
      rgba(125, 107, 162, 0.25) 80%,
      transparent
    );
  }

  .service-card:last-child::after {
    display: none;
  }

  .service-card:hover {
    background-color: rgba(191, 174, 220, 0.08);
    transform: translateX(4px);
  }

  :global(.dark) .service-card:hover {
    background-color: rgba(125, 107, 162, 0.12);
  }

  .service-link-text {
    display: inline-block;
    text-decoration: underline;
    text-underline-offset: 4px;
    color: #1c1917;
    transition: color 0.2s ease;
  }

  :global(.dark) .service-link-text {
    color: #f0ede8;
  }

  .service-card:hover .service-link-text {
    color: #7d6ba2;
  }

  :global(.dark) .service-card:hover .service-link-text {
    color: #bfaedc;
  }
</style>